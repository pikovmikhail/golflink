{% extends 'cms/club_site/base.jinja' %}

{% from 'cms/includes/forms.jinja' import render_field %}

{% block main %}
  <h3>{{ _('Add a New Calendar Event') }}</h3>

  <form id="calendar-add-form" method="post" enctype="multipart/form-data" action="" class="uk-form-stacked" novalidate>
    {{ csrf_input(csrf_token) }}
    <div class="uk-column-1-2">
      <div>
        {{ render_field(form.name) }}
      </div>
      <div>
        <em style="float: right">(Optional) This will be used instead of club default.</em>
        {{ render_field(form.email) }}
      </div>
    </div>
    <div class="uk-column-1-2">
      <div>
        {{ render_field(form.start_date) }}
        {{ render_field(form.end_date) }}
      </div>
      <div>
        {{ render_field(form.start_time) }}
        {{ render_field(form.end_time) }}
      </div>
    </div>
    <hr>
    {{ render_field(form.recurrence_set) }}
    <div class="uk-background-muted uk-margin uk-padding" id="recurrence_param_div">
        <p class="uk-text-left">Please Note: When using online registration for a reoccurring event, the registration opening timeframe will be the same for all subsequent events. You may edit individual event details after the event has been posted.</p>
        <div class="uk-column-1-2">
           <div>
               {{ render_field(form.recurrence_every) }}
           </div>
           <div>
               {{ render_field(form.recurrence_pattern) }}
           </div>
        </div>
        <div class="uk-margin">
            {{ render_field(form.recurrence_repetition_types) }}
        </div>
        <div class="uk-column-1-2">
           <div id="id_div_recurrence_repetitions">
               {{ render_field(form.recurrence_repetitions) }}
           </div>
           <div id="id_div_recurrence_until">
                {{ render_field(form.recurrence_until) }}
           </div>
        </div>
    </div>
    <hr>
    {{ render_field(form.photo) }}
    {{ render_field(form.description) }}

    {{ render_field(form.type) }}
    <div id="member_event_container_div">
        {{ render_field(form.online_registration) }}

        <div class="uk-grid" id="registration_param_div">
          <div class="uk-width-1-2">
            {{ render_field(form.registration_open_date) }}
          </div>
          <div class="uk-width-1-2">
            {{ render_field(form.registration_open_time) }}
          </div>
          <div class="uk-width-1-1 uk-margin">
               <p class="uk-text-left">Event Registration Opens <span id="p_registration_open_days"></span> Day(s) before Event Starts</p>
          </div>
          <div class="uk-width-1-2">
            {{ render_field(form.registration_close_date) }}
          </div>
          <div class="uk-width-1-2">
            {{ render_field(form.registration_close_time) }}
          </div>
          <div class="uk-width-1-1 uk-margin">
               <p class="uk-text-left">Event Registration Closes <span id="p_registration_close_days"></span> Day(s) before Event Starts</p>
          </div>

          <div class="uk-width-1-1 uk-margin">
              <div class="uk-column-1-2">
                <div>
                  {{ render_field(form.max_attendees) }}
                </div>
                <div>
                  {{ render_field(form.max_guests_per_rsvp) }}
                </div>
              </div>

              {{ render_field(form.custom_question_1) }}
              {{ render_field(form.custom_question_2) }}
              {{ render_field(form.custom_question_3) }}
              {{ render_field(form.custom_question_4) }}
              {{ render_field(form.custom_question_5) }}
          </div>
        </div>
    </div>
    <input type="submit" class="uk-button uk-button-primary" value="{{ _('Save') }}" />
  </form>
{% endblock %}
